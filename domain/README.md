# Доменный слой приложения

Данный слой содержит в себе описание правил, бизнес-логики, сущностей для работы приложения.  

## Важно

Данный слой **не должен зависеть от других слоев приложения**, а также должен содержать **только необходимый минимум** зависимостей и должен быть **по максимуму абстрагирован от внешнего мира**.

## Бизнес-логика

Для описания бизнес-логики используется [BLoC](htthttps://bloclibrary.dev/#/).  
Каждый Компонент должен описывать конкретную логику, принимать на вход Изменение (Event) и отдавать Состояние (State) как реакцию на Изменения.  
Изменения (Events) и Состояния (States), с которыми работает тот или иной Компонент должны быть описаны рядом с ним. Для генерации шаблонного кода для Изменений и Состояний используется [Freezed](https://pub.dev/packages/freezed)

### Пример

#### Авторизация пользователя

Изменения:

- AuthorizationLogInEvent
- AuthorizationLogOutEvent

Состояния:

- AuthorizationUnauthorizedState
- AuthorizationAuthorizedState

### Профиль пользователя

Изменения:

- ProfileReadEvent
- ProfileUpdateEvent

Состояния:

- ProfileState

## Репозитории

В данном слое присутствует описание интерфейсов для репозиториев.
Репозитории - основной инструмент для Компонентов бизнес-логики для получения и манипуляции с Сущностями.
Репозитории получают на вход только Сущности и отдают также Сущности.

**Имплементации репозиториев не находятся на данном слое и пишутся отдельно.**

## Сущности

В данном слое вместо работы с Дата-объектами, используются **только Сущности**(или временные объекты прим. ДТО) и идет работа с ними.
Сущность - это потенциально изменяемый объект, в отличие от полностью неизменяемых Дата-объектов. Сущности могут хранить в себе правила для работы с ними, а также методы-помощники.
